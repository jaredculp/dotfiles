#!/bin/sh
#
# Use: Put something this in your .tmux.conf file
# set -g status-right: '#(wifi-signal-strength)'
#


current=`/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -I | egrep "agrCtlRSSI|state|lastTxRate| SSID" | cut -d: -f2 | tr "\\n" ";" | sed 's/^[ ]//g'`

if [ "$current" == "" ]
then
  echo "(WIFI off)"
fi

bandwidth=`echo $current | cut -d";" -f3-3 | cut -d" " -f2-`
name=`echo $current | cut -d";" -f4-4 | cut -d" " -f2-`

echo "ðŸ“¶  ${name} ${bandwidth}Mbs"
